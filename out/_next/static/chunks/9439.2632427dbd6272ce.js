(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9439],{9439:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r=n(4051),a=n.n(r),i=n(5893),s=n(7294),c=n(5152),o=n(1163),u=n(3976),l={id:"",name:"",category:"",company:{id:"",name:"",contactEmail:"",contactPhone:"",website:""},description:"",dimensions:"",materials:"",specstandard:"",type:"",image:""};function d(e,t,n,r,a,i,s){try{var c=e[i](s),o=c.value}catch(u){return void n(u)}c.done?t(o):Promise.resolve(o).then(r,a)}var m=(0,c.default)((function(){return n.e(7010).then(n.bind(n,7010))}),{loadableGenerated:{webpack:function(){return[7010]}}}),f=(0,c.default)((function(){return n.e(6260).then(n.bind(n,5068))}),{loadableGenerated:{webpack:function(){return[5068]}}}),p=(0,c.default)((function(){return n.e(9588).then(n.bind(n,9588))}),{loadableGenerated:{webpack:function(){return[9588]}}}),h=(0,c.default)((function(){return Promise.all([n.e(664),n.e(8367)]).then(n.bind(n,8367))}),{loadableGenerated:{webpack:function(){return[8367]}}}),x=(0,c.default)((function(){return n.e(8463).then(n.bind(n,5752))}),{loadableGenerated:{webpack:function(){return[5752]}}}),v=(0,c.default)((function(){return n.e(6870).then(n.bind(n,6870))}),{loadableGenerated:{webpack:function(){return[6870]}}}),w=(0,c.default)((function(){return n.e(5256).then(n.bind(n,9798))}),{loadableGenerated:{webpack:function(){return[9798]}}}),g=(0,c.default)((function(){return n.e(6552).then(n.bind(n,6552))}),{loadableGenerated:{webpack:function(){return[6552]}}}),b=(0,c.default)((function(){return n.e(9003).then(n.bind(n,9003))}),{loadableGenerated:{webpack:function(){return[9003]}}}),j=function(e){var t=localStorage.getItem("TPY__machines_machine_type"),n=(0,s.useState)([]),r=n[0],c=n[1],j=(0,s.useState)(l),y=j[0],N=j[1],k=(0,s.useState)(t),_=k[0],P=k[1],S=(0,s.useState)(""),U=S[0],I=S[1],O=(0,o.useRouter)().query,T=function(){var e,t=(e=a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.W)();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){d(i,r,a,s,c,"next",e)}function c(e){d(i,r,a,s,c,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,s.useEffect)((function(){T()}),[]),(0,s.useEffect)((function(){!function(e,t){if(!e)return{};if(!t)return{};var n=e.filter((function(e){return e.id===t}),e)[0];N(n)}(r,O.id)}),[r,O]),y?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"lg:mt-32 px-4 max-width sm:mx-auto",children:(0,i.jsxs)("div",{className:" mb-12 ",children:[O.form&&(0,i.jsx)(b,{crumbs:[{title:"Home",href:"/"},{title:"Machine Portal",href:"/machines"},{title:y.name,href:"/machines-details?id=".concat(y.id)},{title:"Check availability",isActive:!0}]}),!O.form&&(0,i.jsx)(b,{crumbs:[{title:"Home",href:"/"},{title:"Machine Portal",href:"/machines"},{title:y.name,isActive:!0}]})]})}),(0,i.jsxs)("div",{className:"flex flex-wrap md:flex-nowrap px-4 max-width sm:mx-auto",children:[(0,i.jsxs)("div",{className:" w-full md:w-2/5 md:pr-4 ",children:[!O.form&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"my-2",children:(0,i.jsx)(p,{color:"#14B586",children:y&&y.category?y.category:""})})}),O.form&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"my-2",children:(0,i.jsx)(p,{color:"#FF8850",children:"CHECK AVAILABILITY"})})}),(0,i.jsx)(m,{children:y?y.name:""}),O.form&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("p",{className:"my-6",children:(0,i.jsx)("img",{src:y.image?y.image:""})})}),!O.form&&(0,i.jsx)("div",{className:"pt-6 block sm:hidden",children:(0,i.jsx)("img",{src:y.image?y.image:"https://i.imgur.com/83Ovq2V.jpeg"})})]}),(0,i.jsx)("div",{className:" mt-8 md:mt-8 w-full md:w-3/5 md:pl-4 ",children:O.form&&(0,i.jsx)(w,{machine:y})})]}),(0,i.jsxs)("div",{className:"flex flex-wrap md:flex-nowrap px-4 mb-16 max-width sm:mx-auto",children:[(0,i.jsx)("div",{className:" w-full md:w-2/5 md:pr-4 ",children:!O.form&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"my-2",children:(0,i.jsx)("p",{children:y&&y.description?y.description:""})}),(0,i.jsx)("div",{className:"my-16",children:(0,i.jsx)(g,{machine:y})}),(0,i.jsx)(f,{href:{pathname:"/machines-details",query:{id:y.id,form:1}},children:"Contact"})]})}),(0,i.jsxs)("div",{className:" mt-4 md:mt-4 w-full md:w-3/5 md:pl-4 ",children:[!O.form&&(0,i.jsx)("div",{className:"hidden sm:block",children:(0,i.jsx)("img",{src:y.image?y.image:"https://i.imgur.com/83Ovq2V.jpeg"})}),(0,i.jsx)("div",{hidden:!0,className:"my-8",children:(0,i.jsxs)("p",{children:[(0,i.jsx)("b",{children:"Description:"}),(0,i.jsx)("br",{}),"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim."]})})]})]}),(0,i.jsxs)("div",{className:"max-width px-4 md:px-0 md:mx-auto",children:[(0,i.jsx)(m,{children:"More machines"}),(0,i.jsxs)("div",{className:"flex flex-wrap md:flex-nowrap md:mx-0 mt-6 mb-16 max-width sm:mx-auto md:px-4",children:[(0,i.jsx)("div",{className:" w-full md:w-1/4 ",children:(0,i.jsx)(x,{machines:r,machineType:_,onUpdate:P})}),(0,i.jsxs)("div",{className:" w-full md:w-3/4 ",children:[(0,i.jsx)(v,{onUpdate:I}),(0,i.jsx)(h,{machines:r,searchQuery:U,machineType:_})]})]})]})]}):(0,i.jsx)(i.Fragment,{})}},902:function(e,t){"use strict";t.Z={apiUrl:"https://tpy-site.herokuapp.com/api"}},1819:function(e,t,n){"use strict";n.d(t,{vw:function(){return d},dD:function(){return l},Bb:function(){return m}});var r=n(4051),a=n.n(r),i=n(902);function s(e,t,n,r,a,i,s){try{var c=e[i](s),o=c.value}catch(u){return void n(u)}c.done?t(o):Promise.resolve(o).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function c(e){s(i,r,a,c,o,"next",e)}function o(e){s(i,r,a,c,o,"throw",e)}c(void 0)}))}}var o=new Date,u="".concat(o.getFullYear(),"-").concat(o.getMonth()+1,"-").concat(o.getDate()),l=function(){var e=c(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return JSON.parse(localStorage.getItem("TPY__news"))||{lastUpdate:""},e.next=4,fetch("".concat(i.Z.apiUrl,"/news"));case 4:return t=e.sent,e.next=7,t.json();case 7:return n=e.sent,localStorage.setItem("TPY__news",JSON.stringify({lastUpDate:u,news:n})),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=c(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return JSON.parse(localStorage.getItem("TPY__events"))||{lastUpdate:""},e.next=4,fetch("".concat(i.Z.apiUrl,"/events"));case 4:return t=e.sent,e.next=7,t.json();case 7:return n=e.sent,localStorage.setItem("TPY__events",JSON.stringify({lastUpDate:u,events:n})),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=(function(){var e=c(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((JSON.parse(localStorage.getItem("TPY__stories"))||{lastUpdate:""}).lastUpDate===u){e.next=10;break}return e.next=4,fetch("".concat(i.Z.apiUrl,"/stories"));case 4:return t=e.sent,e.next=7,t.json();case 7:return n=e.sent,localStorage.setItem("TPY__stories",JSON.stringify({lastUpDate:u,stories:n})),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))}(),function(){var e=c(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=JSON.parse(localStorage.getItem("TPY__machines"))||{lastUpdate:""}).lastUpDate===u){e.next=10;break}return e.next=4,fetch("".concat(i.Z.apiUrl,"/machines"));case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,localStorage.setItem("TPY__machines",JSON.stringify({lastUpDate:u,machines:r})),e.abrupt("return",r);case 10:return e.abrupt("return",t.machines);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}())},3976:function(e,t,n){"use strict";n.d(t,{W:function(){return c},f:function(){return o}});var r=n(4051),a=n.n(r),i=n(1819);function s(e,t,n,r,a,i,s){try{var c=e[i](s),o=c.value}catch(u){return void n(u)}c.done?t(o):Promise.resolve(o).then(r,a)}var c=function(){var e,t=(e=a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Bb)();case 2:return t=e.sent,n=t.map((function(e){return{id:e.sys.id,category:e.fields.category,company:{id:e.fields.company.sys.id,contactEmail:e.fields.company.fields.contactEmail,contactPhone:e.fields.company.fields.contactPhone,name:e.fields.company.fields.name,website:e.fields.company.fields.website},description:e.fields.description,dimensions:e.fields.dimensions,materials:e.fields.materials,specstandard:e.fields.specstandard,name:e.fields.name,type:e.fields.type,image:e.fields.picture?e.fields.picture.fields.file.url:"https://i.imgur.com/83Ovq2V.jpeg"}})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function c(e){s(i,r,a,c,o,"next",e)}function o(e){s(i,r,a,c,o,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}(),o=function(e){var t=[];return e.forEach((function(e){t.indexOf(e.category)>-1||t.push(e.category)})),t}},1163:function(e,t,n){e.exports=n(880)}}]);